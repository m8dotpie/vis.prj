"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[544],{1544:function(e,t,n){n.r(t),n.d(t,{default:function(){return g}});var u,r,i=n(9268),o=n(5334),l=n(7804),s=n(6006),a=n(4715);function c({all:e,scene:t,camera:n}){let u=(0,a.z)(({gl:e})=>e),r=(0,a.z)(({camera:e})=>e),i=(0,a.z)(({scene:e})=>e);return s.useLayoutEffect(()=>{let o=[];e&&(t||i).traverse(e=>{!1===e.visible&&(o.push(e),e.visible=!0)}),u.compile(t||i,n||r);let s=new l.WebGLCubeRenderTarget(128),a=new l.CubeCamera(.01,1e5,s);a.update(u,t||i),s.dispose(),o.forEach(e=>e.visible=!1)},[]),null}let f=e=>{let t;let n=new Set,u=(e,u)=>{let r="function"==typeof e?e(t):e;if(!Object.is(r,t)){let e=t;t=(null!=u?u:"object"!=typeof r)?r:Object.assign({},t,r),n.forEach(n=>n(t,e))}},r=()=>t,i=e=>(n.add(e),()=>n.delete(e)),o=()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()},l={setState:u,getState:r,subscribe:i,destroy:o};return t=e(u,r,l),l},v=e=>e?f(e):f;var d=n(7737);let{useSyncExternalStoreWithSelector:b}=d,p=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t="function"==typeof e?v(e):e,n=(e,n)=>(function(e,t=e.getState,n){let u=b(e.subscribe,e.getState,e.getServerState||e.getState,t,n);return(0,s.useDebugValue)(u),u})(t,e,n);return Object.assign(n,t),n},E=e=>e?p(e):p,w="undefined"!=typeof window&&(null!=(u=window.document)&&u.createElement||(null==(r=window.navigator)?void 0:r.product)==="ReactNative")?s.useLayoutEffect:s.useEffect,S=function(){let e=E(e=>({current:[],version:0,set:e}));return{In:({children:t})=>{let n=e(e=>e.set),u=e(e=>e.version);return w(()=>{n(e=>({version:e.version+1}))},[]),w(()=>(n(({current:e})=>({current:[...e,t]})),()=>n(({current:e})=>({current:e.filter(e=>e!==t)}))),[t,u]),null},Out:()=>{let t=e(e=>e.current);return s.createElement(s.Fragment,null,t)}}}();function g(e){let{...t}=e;return(0,i.jsxs)(o.Xz,{...t,children:[(0,i.jsx)(S.Out,{}),(0,i.jsx)(c,{all:!0})]})}},8727:function(e,t,n){/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u=n(6006),r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=u.useState,o=u.useEffect,l=u.useLayoutEffect,s=u.useDebugValue;function a(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!r(e,n)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),u=i({inst:{value:n,getSnapshot:t}}),r=u[0].inst,c=u[1];return l(function(){r.value=n,r.getSnapshot=t,a(r)&&c({inst:r})},[e,n,t]),o(function(){return a(r)&&c({inst:r}),e(function(){a(r)&&c({inst:r})})},[e]),s(n),n};t.useSyncExternalStore=void 0!==u.useSyncExternalStore?u.useSyncExternalStore:c},4464:function(e,t,n){/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var u=n(6006),r=n(3276),i="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},o=r.useSyncExternalStore,l=u.useRef,s=u.useEffect,a=u.useMemo,c=u.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,u,r){var f=l(null);if(null===f.current){var v={hasValue:!1,value:null};f.current=v}else v=f.current;f=a(function(){function e(e){if(!s){if(s=!0,o=e,e=u(e),void 0!==r&&v.hasValue){var t=v.value;if(r(t,e))return l=t}return l=e}if(t=l,i(o,e))return t;var n=u(e);return void 0!==r&&r(t,n)?t:(o=e,l=n)}var o,l,s=!1,a=void 0===n?null:n;return[function(){return e(t())},null===a?void 0:function(){return e(a())}]},[t,n,u,r]);var d=o(e,f[0],f[1]);return s(function(){v.hasValue=!0,v.value=d},[d]),c(d),d}},3276:function(e,t,n){e.exports=n(8727)},7737:function(e,t,n){e.exports=n(4464)}}]);